<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>VisitSuzugamori</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, shrink-to-fit=no">
<meta name="description" content="VisitSuzugamori">
<meta property="og:type" content="website">
<meta property="og:title" content="VisitSuzugamori">
<meta property="og:locale" content="ja_JP">
<meta property="article:author" content="isnot">
<link rel="stylesheet" type="text/css" href="https://unpkg.com/sakura.css/css/sakura.css">
<link rel="stylesheet" type="text/css" href="https://api.mapbox.com/mapbox-gl-js/v2.1.1/mapbox-gl.css">
<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/fontawesome.min.css">
<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/solid.min.css">
<style>
  .hidden { display: none; }
  .fa-question-circle { font-size: 24px; padding-left: 3px; color: #111;}
  #map { height: 600px; width: 100vw; }
</style>
</head>
<body>
  <div id="container">
    <header class="article-header">
      <h1>VisitSuzugamori</h1>
    </header>
    <div class="article">
      <ul>
        <li><a rel="noopener" href="https://visitsuzugamori.github.io/VisitSuzugamori/TJ01/">TJ01</a></li>
        <li><a rel="noopener" href="https://visitsuzugamori.github.io/VisitSuzugamori/TJ02/">TJ02</a></li>
        <li><a rel="noopener" href="https://visitsuzugamori.github.io/VisitSuzugamori/TJ03/">TJ03</a></li>
        <li><a rel="noopener" href="https://visitsuzugamori.github.io/VisitSuzugamori/TJ04/">TJ04</a></li>
        <li><a rel="noopener" href="https://visitsuzugamori.github.io/VisitSuzugamori/TJ05/">TJ05</a></li>
        <li><a rel="noopener" href="https://visitsuzugamori.github.io/VisitSuzugamori/TJ06/">TJ06</a></li>
        <li><a rel="noopener" href="https://visitsuzugamori.github.io/VisitSuzugamori/TJ07/">TJ07</a></li>
        <li><a rel="noopener" href="https://visitsuzugamori.github.io/VisitSuzugamori/TJ08/">TJ08</a></li>
        <li><a rel="noopener" href="https://visitsuzugamori.github.io/VisitSuzugamori/TJ09-1/">TJ09-1</a></li>
        <li><a rel="noopener" href="https://visitsuzugamori.github.io/VisitSuzugamori/TJ09-2/">TJ09-2</a></li>
        <li><a rel="noopener" href="https://visitsuzugamori.github.io/VisitSuzugamori/TJ10/">TJ10</a></li>
        <li><a rel="noopener" href="https://visitsuzugamori.github.io/VisitSuzugamori/TJ11/">TJ11</a></li>
        <li><a rel="noopener" href="https://visitsuzugamori.github.io/VisitSuzugamori/TJ12/">TJ12</a></li>
        <li><a rel="noopener" href="https://visitsuzugamori.github.io/VisitSuzugamori/TJ13-1/">TJ13-1</a></li>
        <li><a rel="noopener" href="https://visitsuzugamori.github.io/VisitSuzugamori/TJ13-2/">TJ13-2</a></li>
        <li><a rel="noopener" href="https://visitsuzugamori.github.io/VisitSuzugamori/TJ14/">TJ14</a></li>
        <li><a rel="noopener" href="https://visitsuzugamori.github.io/VisitSuzugamori/TJ15/">TJ15</a></li>
        <li><a rel="noopener" href="https://visitsuzugamori.github.io/VisitSuzugamori/TJ16/">TJ16</a></li>
        <li><a rel="noopener" href="https://visitsuzugamori.github.io/VisitSuzugamori/TJ17/">TJ17</a></li>
      </ul>
      <p class="repository">see also <a href="https://github.com/VisitSuzugamori/VisitSuzugamori/">VisitSuzugamori (GitHub)</a></p>
    </div>
    <div id="map">
    </div>
    <script src="https://api.mapbox.com/mapbox-gl-js/v2.1.1/mapbox-gl.js"></script>
    <script>
      const home_loc = {
        center: [137.17, 36.05],
        zoom: 5,
        pitch: 45,
        bearing: 0
      };

      mapboxgl.accessToken = 'pk.eyJ1IjoiaXNub3QiLCJhIjoiY2tscDdpeGExMHp5cTJwcXI0YWlzZHdyeCJ9._NooEseBc8wEwa3z_plcAg';
      const map = new mapboxgl.Map({
        container: 'map',
        style: 'mapbox://styles/isnot/ckdzfj1n70ee219lhgygiamwc',
        center: home_loc.center,
        zoom: home_loc.zoom,
        pitch: home_loc.pitch,
        minZoom: 4,
        hash: true,
        localIdeographFontFamily: "'Noto Sans CJK JP', 'Noto Sans', sans-serif"
      });

      map.on('load', () => {
        // const geojson = await postData('./zatsumap.geojson').catch((e) => {
        //   console.log(e);
        // });
        // map.getSource('zatsumap').setData(geojson);
        map.loadImage(
          'https://docs.mapbox.com/mapbox-gl-js/assets/custom_marker.png',
          (error, image) => {
            if (error) throw error;
            map.addImage('custom-marker', image);
            map.addSource('zatsumap', { type: 'geojson', data: './zatsumap.geojson' });
            map.addLayer({
              'id': 'points',
              'type': 'symbol',
              'source': 'zatsumap',
              'layout': {
                'icon-image': 'custom-marker',
                'text-field': ['get', 'name'],
                'text-offset': [0, 1.25],
                'text-anchor': 'top'
              }
            });
          }
        );
      });

      // async function postData(url = '') {
      //   const response = await fetch(url, {
      //     mode: 'same-origin',
      //     credentials: 'same-origin',
      //     headers: {
      //       'Content-Type': 'application/json'
      //     },
      //   })
      //   return response.json();
      // }
    </script>
  </div>
</body>
</html>
